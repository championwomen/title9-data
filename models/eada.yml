version: 2

models:
  - name: eada
    description: This table contains the processed data from the eada along with the end year of the data collected.
    meta:
      metrics:
        num_institutions:
          label: "# of Institutions"
          type: count_distinct
          sql: ${TABLE}.institution_id
    columns:
      - name: collected
        description: The end year of the data collected from the EADA
        meta:
          dimension:
            label: "Collected"
            type: date
            time_intervals: ['YEAR']
            sql: to_date(CAST(${TABLE}.year AS CHAR(4)), 'yyyy')
      - name: institution_id
        description: This is a unique identifier for a university
        tests:
          - not_null
        meta:
          dimension:
            type: string
            group_label: "School Details"
      - name: opeid
        description: Unique identifier used by the Department of Education's Office of Postsecondary Education (OPE)
        meta:
          dimension:
            type: string
            label: "OPEID"
            group_label: "School Details"
      - name: institution_name
        meta:
          dimension:
            type: string
            label: "Institution Name"
            group_label: "School Details"
      - name: address_1
        meta:
          dimension:
            type: string
            label: "Address Line 1"
            group_label: "School Details"
      - name: address_2
        meta:
          dimension:
            type: string
            label: "Address Line 2"
            group_label: "School Details"
      - name: city
        meta:
          dimension:
            type: string
            group_label: "School Details"
      - name: state
        meta:
          dimension:
            type: string
            group_label: "School Details"
      - name: zip_code
        meta:
          dimension:
            type: string
            label: "ZIP Code"
            group_label: "School Details"
      - name: classification
        meta:
          dimension:
            type: string
            group_label: "School Details"
      - name: sanction_id
        meta:
          dimension:
            hidden: true
            type: string
            group_label: "School Details"
      - name: sanction_name
        meta:
          dimension:
            type: string
            group_label: "School Details"
      - name: num_male_undergraduates
        meta:
          dimension:
            type: number
            hidden: true
          metrics:
            total_num_male_undergraduates:
              label: "# of Male Undergraduates"
              type: sum
              round: 0
              group_label: "School Details"
      - name: num_female_undergraduates
        meta:
          dimension:
            type: number
            hidden: true
          metrics:
            total_num_female_undergraduates:
              label: "# of Female Undergraduates"
              type: sum
              round: 0
              group_label: "School Details"
      - name: num_undergraduates
        meta:
          dimension:
            type: number
            hidden: true
          metrics:
            total_num_undergraduates:
              label: "# Total Undergraduates"
              type: sum
              round: 0
              group_label: "School Details"
      - name: percentage_of_male_undergraduates
        meta:
          dimension:
            type: number
            label: "% of Male Undergrad"
            format: 'percent'
            type: number
            round: 2
            group_label: "School Details"
      - name: percentage_of_female_undergraduates
        meta:
          dimension:
            type: number
            label: "% of Female Undergrad"
            format: 'percent'
            round: 2
            group_label: "School Details"
      - name: male_athletic_student_aid
        meta:
          dimension:
            type: number
            sql: ${TABLE}.athletic_student_aid_for_men
            hidden: true
          metrics:
            total_male_athletic_student_aid:
              type: sum
              format: 'usd'
              round: 0
              label: "$ Male Athletic Student Aid"
              group_label: "Athletic Student Aid"
      - name: female_athletic_student_aid
        meta:
          dimension:
            type: number
            sql: ${TABLE}.athletic_student_aid_for_women
            hidden: true
            round: 2
            format: 'usd'
          metrics:
            total_female_athletic_student_aid:
              type: sum
              format: 'usd'
              round: 0
              label: "$ Female Athletic Student Aid"
              group_label: "Athletic Student Aid"
      - name: coed_team_athletic_student_aid
        meta:
          dimension:
            type: number
            sql: COALESCE(${TABLE}.athletic_student_aid_for_coed, 0)
            hidden: true
          metrics:
            total_coed_team_athletic_student_aid:
              type: sum
              format: 'usd'
              round: 0
              label: "$ Coed Team Athletic Student Aid"
              group_label: "Athletic Student Aid"
      - name: male_coed_sports_student_aid
        meta:
          dimension:
            type: number
            sql: COALESCE(${coed_team_athletic_student_aid} * ${percentage_males_in_coed_sports}, 0)
            hidden: true
          metrics:
            total_male_coed_sports_student_aid:
              type: sum
              format: 'usd'
              round: 0
              label: "$ for Male Coed Sports Student Aid"
              group_label: "Athletic Student Aid"
      - name: female_coed_sports_student_aid
        meta:
          dimension:
            type: number
            sql: COALESCE(${coed_team_athletic_student_aid} * ${percentage_females_in_coed_sports}, 0)
            hidden: true
          metrics:
            total_female_coed_sports_student_aid:
              type: sum
              format: 'usd'
              round: 0
              label: "$ for Female Coed Sports Student Aid"
              group_label: "Athletic Student Aid"
      - name: male_and_female_total_student_aid
        meta:
          dimension:
            type: number
            sql: ${male_athletic_student_aid} + ${female_athletic_student_aid} + ${coed_team_athletic_student_aid}
            hidden: true
          metrics:
            total_male_and_female_student_aid:
              type: sum
              format: 'usd'
              round: 0
              label: "$ M/F Total Student Aid"
              group_label: "Athletic Student Aid"
      - name: additional_aid_for_females_needed_for_equity
        meta:
          dimension:
            type: number
            sql: ${male_athletic_student_aid}::float / NULLIF(${percentage_of_male_undergraduates},0) - ${male_and_female_total_student_aid}
            hidden: true
          metrics:
            total_additional_aid_for_females_needed_for_equity:
              type: sum
              format: 'usd'
              round: 0
              label: "$ Additional Aid for Females Needed for Equity - based on M/F Enrollment"
              group_label: "Athletic Student Aid"
      - name: percentage_addtl_aid_for_females_needed_for_equity
        meta:
          dimension:
            type: number
            sql: ${additional_aid_for_females_needed_for_equity}::float/NULLIF(${male_and_female_total_student_aid},0)
            hidden: true
          metrics:
            percentage_addtl_aid_for_females_needed_for_equity_m:
              sql: ${total_additional_aid_for_females_needed_for_equity}::float/NULLIF(${total_male_and_female_student_aid},0)
              type: number
              format: 'percent'
              round: 2
              label: "% of Additional Aid for Female needed for Equity - Based on M/F Enrollment"
              group_label: "Athletic Student Aid"
      - name: scholarship_aid_pass_fail_grade
        meta:
          dimension:
            sql: CASE WHEN ${male_and_female_total_student_aid} = 0 THEN 'N/A' WHEN ${percentage_addtl_aid_for_females_needed_for_equity} > 0.01 THEN 'Fail' ELSE 'Pass' END
            label: "Scholarship Aid Pass/Fail Grade"
            type: string
            group_label: "Athletic Student Aid"
      - name: percentage_athletic_scholarship_aid_to_males
        meta:
          dimension:
            type: number
            sql: ${male_athletic_student_aid}::float / NULLIF(${male_and_female_total_student_aid},0)
            format: 'percent'
            round: 2
            label: "% of Athletic Scholarship Aid to Males"
            group_label: "Athletic Student Aid"
      - name: percentage_athletic_scholarship_aid_to_females
        meta:
          dimension:
            type: number
            sql: ${female_athletic_student_aid}::float / NULLIF(${male_and_female_total_student_aid},0)
            format: 'percent'
            round: 2
            label: "% of Athletic Scholarship Aid to Females"
            group_label: "Athletic Student Aid"
      - name: male_recruiting_expenses
        meta:
          dimension:
            type: number
            sql: ${TABLE}.recruiting_expenses_for_men
            hidden: true
          metrics:
            total_male_recruiting_expenses:
              type: sum
              round: 0
              format: 'usd'
              label: "$ Male Recruiting Expenses"
              group_label: "Recruiting Expenses"
      - name: female_recruiting_expenses
        meta:
          dimension:
            type: number
            sql: ${TABLE}.recruiting_expenses_for_women
            hidden: true
          metrics:
            total_female_recruiting_expenses:
              type: sum
              round: 0
              format: 'usd'
              label: "$ Female Recruiting Expenses"
              group_label: "Recruiting Expenses"
      - name: coed_team_recruiting_expenses
        meta:
          dimension:
            type: number
            sql: COALESCE(${TABLE}.recruiting_expenses_for_coed, 0)
            hidden: true
          metrics:
            total_coed_team_recruiting_expenses:
              type: sum
              round: 0
              format: 'usd'
              label: "$ Coed Team Recruiting Expenses"
              group_label: "Recruiting Expenses"
      - name: male_coed_sports_recruting_expenses
        meta:
          dimension:
            type: number
            sql: COALESCE(${coed_team_recruiting_expenses} * ${percentage_males_in_coed_sports}, 0)
            hidden: true
          metrics:
            total_male_coed_sports_recruting_expenses:
              type: sum
              round: 0
              format: 'usd'
              label: "$ for Male Coed Sports Recruiting Expenses"
              group_label: "Recruiting Expenses"
      - name: female_coed_sports_recruting_expenses
        meta:
          dimension:
            type: number
            sql: COALESCE(${coed_team_recruiting_expenses} * ${percentage_females_in_coed_sports}, 0)
            hidden: true
          metrics:
            total_female_coed_sports_recruting_expenses:
              type: sum
              round: 0
              format: 'usd'
              label: "$ for Female Coed Sports Recruiting Expenses"
              group_label: "Recruiting Expenses"
      - name: male_and_female_recruiting_expenses
        meta:
          dimension:
            type: number
            sql: ${male_recruiting_expenses} + ${female_recruiting_expenses} + ${coed_team_recruiting_expenses}
            hidden: true
          metrics:
            total_male_and_female_recruiting_expenses:
              type: sum
              round: 0
              format: 'usd'
              label: "$ Total M/F Recruiting Expenses"
              group_label: "Recruiting Expenses"
      - name: male_and_female_recruiting_expenses_for_equity
        meta:
          dimension:
            type: number
            sql: ${male_recruiting_expenses}::float / NULLIF(${percentage_of_male_undergraduates},0)
            hidden: true
          metrics:
            total_male_and_female_recruiting_expenses_for_equity:
              type: sum
              round: 0
              format: 'usd'
              label: "$ Schools Should be Spending on Recruiting for M/F Equity - Based on M/F Enrollment"
              group_label: "Recruiting Expenses"
      - name: additional_female_recruiting_expenses_for_equity
        meta:
          dimension:
            type: number
            sql: ${male_and_female_recruiting_expenses_for_equity} - ${male_and_female_recruiting_expenses}
            hidden: true
          metrics:
            total_additional_female_recruiting_expenses_for_equity:
              type: sum
              round: 0
              format: 'usd'
              label: "$ Additional Recruiting Money for Females Needed to Achieve Equity Based on M/F Enrollment"
              group_label: "Recruiting Expenses"
      - name: recruiting_expense_pass_fail_grade
        meta:
          dimension:
            sql: CASE WHEN ${male_and_female_recruiting_expenses} = 0 THEN 'N/A' WHEN ${additional_female_recruiting_expenses_for_equity} > 0 THEN 'Fail' ELSE 'Pass' END
            type: string
            label: "Grade Recruiting Expense Pass/Fail or N/A for Schools That Do Not Provide Recruiting Resources"
            group_label: "Recruiting Expenses"
      - name: num_male_participating_in_coed_sports
        meta:
          dimension:
            type: number
            hidden: true
            sql: ${TABLE}.num_male_participating_in_coed_teams
          metrics:
            total_male_participating_in_coed_teams:
              type: sum
              label: "# of Male Participating in Coed sports"
              group_label: "Coed Sports"
      - name: num_female_participating_in_coed_sports
        meta:
          dimension:
            type: number
            hidden: true
            sql: ${TABLE}.num_female_participating_in_coed_teams
          metrics:
            total_female_participating_in_coed_teams:
              type: sum
              label: "# of Female Participating in Coed sports"
              group_label: "Coed Sports"
      - name: num_male_and_female_participating_in_coed_sports
        meta:
          dimension:
            type: number
            hidden: true
            sql: ${num_male_participating_in_coed_sports} + ${num_female_participating_in_coed_sports}
          metrics:
            total_male_and_female_participating_in_coed_sports:
              type: sum
              label: "Total of M/F in Coed Sports"
              group_label: "Coed Sports"
      - name: percentage_males_in_coed_sports
        meta:
          dimension:
            type: number
            format: 'percent'
            round: 2
            sql: ${num_male_participating_in_coed_sports}::float / NULLIF(${num_male_and_female_participating_in_coed_sports},0)
            label: "% of Males in Coed Sports"
            group_label: "Coed Sports"
      - name: percentage_females_in_coed_sports
        meta:
          dimension:
            type: number
            format: 'percent'
            round: 2
            sql: ${num_female_participating_in_coed_sports}::float / NULLIF(${num_male_and_female_participating_in_coed_sports},0)
            label: "% of Females in Coed Sports"
            group_label: "Coed Sports"
      - name: num_male_participation_dup
        meta:
          dimension:
            label: "Male Total Participation - DUP count"
            type: number
            hidden: true
          metrics:
            total_num_male_participation_dup:
              label: "# Male Total Participation - DUP count"
              type: sum
              group_label: "Duplicated"
      - name: num_female_participation_dup
        meta:
          dimension:
            label: "Female Total Participation - DUP count"
            type: number
            hidden: true
          metrics:
            total_num_female_participation_dup:
              label: "# Female Total Participation - DUP count"
              type: sum
              group_label: "Duplicated"
      - name: num_male_and_female_participation_dup
        meta:
          dimension:
            type: number
            label: "M/F Total Participation - DUP count"
            hidden: true
            sql: ${num_male_participation_dup} + ${num_female_participation_dup}
            round: 0
          metrics:
            total_num_male_and_female_participation_dup:
              label: "# of M/F Total Participation - DUP count"
              type: sum
              round: 0
              group_label: "Duplicated"
      - name: num_male_practice_players
        meta:
          dimension:
            label: "Male Practice Players"
            type: number
            sql: coalesce(num_male_practice_players,0)
            hidden: true
          metrics:
            total_num_male_practice_players:
              label: "# of Male Practice Players"
              type: sum
      - name: num_female_athletes_dup_minus_mpp
        meta:
          dimension:
            label: "Female Athletes - DUP - Minus MPP"
            type: number
            sql: ${num_female_participation_dup} - coalesce(${num_male_practice_players},0)
            hidden: true
          metrics:
            total_num_female_athletes_dup_minus_mpp:
              label: "# Female Athletes - DUP - Minus MPP"
              type: sum
              group_label: "Duplicated"
      - name: num_male_and_female_athletes_dup_minus_mpp
        meta:
          dimension:
            label: "M/F Athletes - DUP - Minus MPP"
            type: number
            sql: ${num_male_and_female_participation_dup} - ${num_male_practice_players}
            hidden: true
          metrics:
            total_num_male_and_female_athletes_dup_minus_mpp:
              label: "# of M/F Athletes - DUP - Minus MPP"
              type: sum
              group_label: "Duplicated"
      - name: num_female_athletes_needed_for_equity_dup_minus_mpp
        meta:
          dimension:
            label: "Female Athletes Needed for Equity - Based on DUP Count - Minus MPP"
            type: number
            sql: COALESCE(${num_male_participation_dup}/NULLIF(${percentage_of_male_undergraduates},0) - ${num_male_and_female_athletes_dup_minus_mpp},0)
            hidden: true
          metrics:
            addtl_female_athletes_needed_for_equity_dup_minus_mpp:
              label: "# of Additional Female Athletes Needed for Equity - Based on DUP Count - Minus MPP"
              type: sum
              round: 0
              group_label: "Duplicated"
      - name: num_female_athletes_for_equity_dup_minus_mpp
        meta:
          dimension:
            label: "Female Athletes for Equity - Based on DUP Count - Minus MPP"
            type: number
            sql: COALESCE(${num_male_participation_dup}::float/NULLIF(${percentage_of_male_undergraduates},0) - ${num_male_and_female_athletes_dup_minus_mpp},0)
            hidden: true
          metrics:
            total_female_athletes_for_equity_dup_minus_mpp:
              label: "# of Female Athletes for Equity - Based on DUP Count - Minus MPP"
              type: sum
              round: 0
              group_label: "Duplicated"
      - name: expenses_per_participant_on_mens_teams
        meta:
          dimension:
            type: number
            round: 2
            format: 'usd'
            group_label: "Expenses"
      - name: total_expenses_for_mens_teams
        meta:
          dimension:
            round: 2
            format: 'usd'
            group_label: "Expenses"
      - name: expenses_per_participant_on_womens_teams
        meta:
          dimension:
            type: number
            round: 2
            format: 'usd'
            group_label: "Expenses"
      - name: total_expenses_for_womens_teams
        meta:
          dimension:
            type: number
            round: 2
            format: 'usd'
            group_label: "Expenses"
      - name: total_expenses_for_men_and_women
        meta:
          dimension:
            type: number
            round: 2
            format: 'usd'
            group_label: "Expenses"
      - name: expenses_per_participant_men_on_coed_teams
        meta:
          dimension:
            type: number
            round: 2
            format: 'usd'
            group_label: "Expenses"
      - name: total_expenses_for_men_on_coed_teams
        meta:
          dimension:
            type: number
            round: 2
            format: 'usd'
            group_label: "Expenses"
      - name: expenses_per_participant_women_on_coed_teams
        meta:
          dimension:
            type: number
            round: 2
            format: 'usd'
            group_label: "Expenses"
      - name: total_expenses_for_women_on_coed_teams
        meta:
          dimension:
            type: number
            round: 2
            format: 'usd'
            group_label: "Expenses"
      - name: total_expenses_per_coed_team
        meta:
          dimension:
            type: number
            round: 2
            format: 'usd'
            group_label: "Expenses"
      - name: expenses_per_particpant_men_including_coed
        meta:
          dimension:
            type: number
            round: 2
            format: 'usd'
            group_label: "Expenses"
      - name: total_expenses_men_including_coed
        meta:
          dimension:
            type: number
            round: 2
            format: 'usd'
            group_label: "Expenses"
      - name: expenses_per_participant_women_including_coed
        meta:
          dimension:
            type: number
            round: 2
            format: 'usd'
            group_label: "Expenses"
      - name: total_expenses_women_including_coed
        meta:
          dimension:
            type: number
            round: 2
            format: 'usd'
            group_label: "Expenses"
      - name: total_expenses_including_coed
        meta:
          dimension:
            type: number
            hidden: true
          metrics:
            sum_expenses_including_coed:
              label: "$ Expenses Including Coed"
              round: 0
              format: 'usd'
              type: sum
              group_label: "Expenses"
      - name: total_revenue_mens_teams
        meta:
          dimension:
            type: number
            hidden: true
          metrics:
            sum_revenue_mens_teams:
              label: "$ Revenue Men's Teams"
              round: 0
              format: 'usd'
              type: sum
              group_label: "Revenue"
      - name: total_revenue_womens_teams
        meta:
          dimension:
            type: number
            hidden: true
          metrics:
            sum_revenue_womens_teams:
              label: "$ Revenue Women's Teams"
              round: 0
              format: 'usd'
              type: sum
              group_label: "Revenue"
      - name: total_revenue_mens_and_womens_teams
        meta:
          dimension:
            type: number
            hidden: true
          metrics:
            sum_revenue_mens_and_womens_teams:
              label: "$ Revenue Men's and Women's Teams"
              round: 0
              format: 'usd'
              type: sum
              group_label: "Revenue"
      - name: total_revenue_men_on_coed_teams
        meta:
          dimension:
            type: number
            hidden: true
          metrics:
            sum_revenue_men_on_coed_teams:
              label: "$ Revenue Men on Coed Teams"
              round: 0
              format: 'usd'
              type: sum
              group_label: "Revenue"
      - name: total_revenue_women_on_coed_teams
        meta:
          dimension:
            type: number
            hidden: true
          metrics:
            sum_revenue_women_on_coed_teams:
              label: "$ Revenue Women on Coed Teams"
              round: 0
              format: 'usd'
              type: sum
              group_label: "Revenue"
      - name: total_revenue_coed
        meta:
          dimension:
            type: number
            hidden: true
          metrics:
            sum_revenue_coed_teams:
              label: "$ Revenue Coed Teams"
              round: 0
              format: 'usd'
              type: sum
              group_label: "Revenue"
      - name: total_revenue_men_including_coed
        meta:
          dimension:
            type: number
            hidden: true
          metrics:
            sum_revenue_men_including_coed:
              label: "$ Revenue Men (inc. Coed Teams)"
              round: 0
              format: 'usd'
              type: sum
              group_label: "Revenue"
      - name: total_revenue_women_including_coed
        meta:
          dimension:
            type: number
            hidden: true
          metrics:
            sum_revenue_women_including_coed:
              label: "$ Revenue Women (inc. Coed Teams)"
              round: 0
              format: 'usd'
              type: sum
              group_label: "Revenue"
      - name: total_revenue_all_teams
        meta:
          dimension:
            type: number
            hidden: true
          metrics:
            sum_revenue_all_teams:
              label: "$ Revenue (All Teams)"
              round: 0
              format: 'usd'
              type: sum
              group_label: "Revenue"
      - name: num_male_athletes_undup
        meta:
          dimension:
            type: number
            hidden: true
            sql: ${TABLE}.unduplicated_men_participating_in_mens_and_coed
          metrics:
            total_num_male_athletes_undup:
              label: "# of Male Athletes - UNDUP Count"
              type: sum
              group_label: "Unduplicated"
      - name: num_female_athletes_undup
        meta:
          dimension:
            type: number
            hidden: true
            sql: ${TABLE}.unduplicated_women_participating_in_womens_and_coed
          metrics:
            total_num_female_athletes_undup:
              label: "# of Female Athletes - UNDUP Count"
              type: sum
              group_label: "Unduplicated"
      - name: num_male_and_female_athletes_undup
        meta:
          dimension:
            sql: ${num_male_athletes_undup} + ${num_female_athletes_undup}
            type: number
            hidden: true
          metrics:
            total_num_male_and_female_athletes_undup:
              label: "# of M/F Athletes - UNDUP Count"
              type: sum
              group_label: "Unduplicated"
      - name: percentage_of_male_athletes_undup
        meta:
          dimension:
            type: number
            label: "% of Male Athletes - UNDUP"
            round: 2
            format: "percent"
            sql: ${num_male_athletes_undup}::float / NULLIF(${num_male_and_female_athletes_undup},0)
            group_label: "Unduplicated"
      - name: percentage_of_female_athletes_undup
        meta:
          dimension:
            type: number
            label: "% of Female Athletes - UNDUP"
            round: 2
            format: "percent"
            sql: ${num_female_athletes_undup}::float / NULLIF(${num_male_and_female_athletes_undup},0)
            group_label: "Unduplicated"
      - name: percentage_of_male_athletes_dup_minus_mpp
        meta:
          dimension:
            type: number
            label: "% of Male athletes - DUP count - Minus MPP"
            round: 2
            format: "percent"
            sql: ${num_male_participation_dup}::float / NULLIF(${num_male_and_female_athletes_dup_minus_mpp},0)
            group_label: "Duplicated"
      - name: percentage_of_female_athletes_dup_minus_mpp
        meta:
          dimension:
            type: number
            label: "% of Female athletes - DUP count - Minus MPP"
            round: 2
            format: "percent"
            sql: ${num_female_participation_dup}::float / NULLIF(${num_male_and_female_athletes_dup_minus_mpp},0)
            group_label: "Duplicated"
      - name: females_needed_for_equity_pass_fail_dup_minus_mpp
        meta:
          dimension:
            label: "Female needed for equity Pass/Fail (DUP - MPP)"
            type: string
            sql: CASE WHEN (${percentage_of_female_undergraduates} - ${percentage_of_female_athletes_dup_minus_mpp}) > 0.01 THEN 'Fail' ELSE 'Pass' END
            group_label: "Duplicated"
      - name: num_female_athletes_undup_minus_mpp
        meta:
          dimension:
            sql: ${num_female_athletes_undup} - ${num_male_practice_players}
            type: number
            hidden: true
          metrics:
            total_female_athletes_undup_minus_mpp:
              label: "# of Female Athletes - UNDUP -  Minus MPP"
              type: sum
              group_label: "Unduplicated"
      - name: num_male_athletes_that_are_dup_athletes
        meta:
          dimension:
            sql: ${num_male_participation_dup} - ${num_male_athletes_undup}
            type: number
            hidden: true
          metrics:
            total_male_athletes_that_are_dup_athletes:
              label: "# of Male Athletes that are DUP Athletes"
              type: sum
              group_label: "Duplicated"
      - name: num_female_athletes_that_are_dup_athletes_minus_mpp
        meta:
          dimension:
            sql: ${num_female_athletes_dup_minus_mpp} - ${num_female_athletes_undup_minus_mpp}
            type: number
            hidden: true
          metrics:
            total_female_athletes_that_are_dup_athletes_minus_mpp:
              label: "# of Female Athletes that Are DUP Athletes - minus MPP"
              type: sum
              group_label: "Duplicated"
      - name: gap_between_male_and_female_dup_athletes_minus_mpp
        meta:
          dimension:
            sql: ${num_female_athletes_that_are_dup_athletes_minus_mpp} - ${num_male_athletes_that_are_dup_athletes}
            type: number
            hidden: true
          metrics:
            total_gap_between_male_and_female_dup_athletes_minus_mpp:
              label: "# Gap Between Male and Female DUP Athletes - minus MPP"
              type: sum
              group_label: "Duplicated"
      - name: num_male_and_female_athletes_undup_minus_mpp
        meta:
          dimension:
            sql: ${num_male_athletes_undup} + ${num_female_athletes_undup_minus_mpp}
            type: number
            hidden: true
          metrics:
            total_num_male_and_female_athletes_undup_minus_mpp:
              label: "# of M/F Athletes - UNDUP - Minus MPP"
              type: sum
              group_label: "Unduplicated"
      - name: percentage_of_male_athletes_undup_minus_mpp
        meta:
          dimension:
            type: number
            label: "% of Male Athletes UNDUP - Minus MPP"
            round: 2
            format: "percent"
            sql: ${num_male_athletes_undup}::float / NULLIF(${num_male_and_female_athletes_undup_minus_mpp},0)
            group_label: "Unduplicated"
      - name: percentage_of_female_athletes_undup_minus_mpp
        meta:
          dimension:
            type: number
            label: "% of Female Athletes -  UNDUP - Minus MPP"
            round: 2
            format: "percent"
            sql: ${num_female_athletes_undup_minus_mpp}::float / NULLIF(${num_male_and_female_athletes_undup_minus_mpp},0)
            group_label: "Unduplicated"
      - name: num_male_and_female_athletes_equality_undup_minus_mpp
        meta:
          dimension:
            sql: ${num_male_athletes_undup}::float / NULLIF(${percentage_of_male_undergraduates},0)
            type: number
            hidden: true
          metrics:
            total_male_and_female_athletes_equality_undup_minus_mpp:
              label: "# of M&F Athletes Athletic Department should have with Equality - UNDUP - Minus MPP"
              type: sum
              round: 0
              group_label: "Unduplicated"
      - name: num_female_needed_for_equity_undup_minus_mpp
        meta:
          dimension:
            sql: ${num_male_and_female_athletes_equality_undup_minus_mpp} - ${num_male_and_female_athletes_undup_minus_mpp}
            type: number
            hidden: true
          metrics:
            total_female_needed_for_equity_undup_minus_mpp:
              label: "# of Female Needed for Equity - based on UNDUP Count - MPP"
              type: sum
              round: 0
              group_label: "Unduplicated"
      - name: females_needed_for_equity_pass_fail_undup_minus_mpp
        meta:
          dimension:
            label: "Grade - Females needed for equity Pass/Fail (UNDUP - MPP)"
            type: string
            sql: CASE WHEN ${num_female_needed_for_equity_undup_minus_mpp} > 12 THEN 'Fail' ELSE 'Pass' END
            group_label: "Unduplicated"
      - name: total_revenue_not_allocated_by_gender_or_sport
        meta:
          dimension:
            type: number
            round: 0
            format: 'usd'
            group_label: "Revenue"
          metrics:
            sum_revenue_not_allocated_by_gender_or_sport:
              label: "$ Revenue Not Allocated by Gender or Sport"
              round: 0
              format: 'usd'
              type: sum
              group_label: "Revenue"
      - name: total_expenses_not_allocated_by_gender_or_sport
        meta:
          dimension:
            type: number
            round: 0
            format: 'usd'
            group_label: "Expenses"
          metrics:
            sum_expenses_not_allocated_by_gender_or_sport:
              label: "$ Expenses Not Allocated by Gender or Sport"
              round: 0
              format: 'usd'
              type: sum
              group_label: "Expenses"
      - name: grand_total_revenue
        meta:
          dimension:
            type: number
            round: 0
            format: 'usd'
            group_label: "Revenue"
          metrics:
            sum_grand_total_revenue:
              label: "$ Grand Total Revenue"
              round: 0
              format: 'usd'
              type: sum
              group_label: "Revenue"
      - name: grand_total_expenses
        meta:
          dimension:
            type: number
            round: 0
            format: 'usd'
            group_label: "Expenses"
          metrics:
            sum_grand_total_expenses:
              label: "$ Grand Total Expenses"
              round: 0
              format: 'usd'
              type: sum
              group_label: "Expenses"
      - name: overall_grade
        meta:
          dimension:
            sql: CASE WHEN ${females_needed_for_equity_pass_fail_dup_minus_mpp} = 'Fail' OR ${recruiting_expense_pass_fail_grade} = 'Fail' OR ${scholarship_aid_pass_fail_grade} = 'Fail' THEN 'Fail' ELSE 'Pass' END
            type: string
            label: "Overall Grade"
      - name: head_coach_salaries_for_men
        meta:
          dimension:
            type: number
            hidden: true
          metrics:
            total_head_coach_salaries_for_men:
              type: sum
              round: 0
              format: 'usd'
              label: "Avg. Head Coach Salary for Men"
              group_label: "Coaches"
      - name: head_coach_salaries_for_women
        meta:
          dimension:
            type: number
            hidden: true
          metrics:
            total_head_coach_salaries_for_women:
              type: sum
              round: 0
              format: 'usd'
              label: "Avg. Head Coach Salary for Women"
              group_label: "Coaches"
      - name: head_coach_salaries_for_coed
        meta:
          dimension:
            type: number
            hidden: true
          metrics:
            total_head_coach_salaries_for_coed:
              type: sum
              round: 0
              format: 'usd'
              label: "Avg. Head Coach Salary for Coed"
              group_label: "Coaches"
      - name: num_head_coaches_for_men
        meta:
          dimension:
            type: number
            hidden: true
          metrics:
            total_head_coaches_for_men:
              type: sum
              round: 0
              label: "# Head Coaches for Men"
              group_label: "Coaches"
      - name: num_head_coaches_for_women
        meta:
          dimension:
            type: number
            hidden: true
          metrics:
            total_head_coaches_for_women:
              type: sum
              round: 0
              label: "# Head Coaches for Women"
              group_label: "Coaches"
      - name: num_head_coaches_for_coed
        meta:
          dimension:
            type: number
            hidden: true
          metrics:
            total_head_coaches_for_coed:
              type: sum
              round: 0
              label: "# Head Coaches for Coed"
              group_label: "Coaches"
      - name: head_coach_salaries_fte_for_men
        meta:
          dimension:
            type: number
            hidden: true
          metrics:
            total_head_coach_salaries_fte_for_men:
              type: sum
              round: 0
              format: 'usd'
              label: "Avg. Full-Time Head Coach Salary for Men"
              group_label: "Coaches"
      - name: head_coach_salaries_fte_for_women
        meta:
          dimension:
            type: number
            hidden: true
          metrics:
            total_head_coach_salaries_fte_for_women:
              type: sum
              round: 0
              format: 'usd'
              label: "Avg. Full-Time Head Coach Salary for Women"
              group_label: "Coaches"
      - name: head_coach_salaries_fte_for_coed
        meta:
          dimension:
            type: number
            hidden: true
          metrics:
            total_head_coach_salaries_fte_for_coed:
              type: sum
              round: 0
              format: 'usd'
              label: "Avg. Full-Time Head Coach Salary for Coed"
              group_label: "Coaches"
      - name: num_head_coaches_fte_for_men
        meta:
          dimension:
            type: number
            hidden: true
          metrics:
            total_head_coaches_fte_for_men:
              type: sum
              round: 0
              label: "# Full-Time Head Coaches for Men"
              group_label: "Coaches"
      - name: num_head_coaches_fte_for_women
        meta:
          dimension:
            type: number
            hidden: true
          metrics:
            total_head_coaches_fte_for_women:
              type: sum
              round: 0
              label: "# Full-Time Head Coaches for Women"
              group_label: "Coaches"
      - name: num_head_coaches_fte_for_coed
        meta:
          dimension:
            type: number
            hidden: true
          metrics:
            total_head_coaches_fte_for_coed:
              type: sum
              round: 0
              label: "# Full-Time Head Coaches for Coed"
              group_label: "Coaches"
      - name: assistant_coach_salaries_for_men
        meta:
          dimension:
            type: number
            hidden: true
          metrics:
            total_assistant_coach_salaries_for_men:
              type: sum
              round: 0
              format: 'usd'
              label: "Avg. Assistant Coach Salary for Men"
              group_label: "Coaches"
      - name: assistant_coach_salaries_for_women
        meta:
          dimension:
            type: number
            hidden: true
          metrics:
            total_assistant_coach_salaries_for_women:
              type: sum
              round: 0
              format: 'usd'
              label: "Avg. Assistant Coach Salary for Women"
              group_label: "Coaches"
      - name: assistant_coach_salaries_for_coed
        meta:
          dimension:
            type: number
            hidden: true
          metrics:
            total_assistant_coach_salaries_for_coed:
              type: sum
              round: 0
              format: 'usd'
              label: "Avg. Assistant Coach Salary for Coed"
              group_label: "Coaches"
      - name: num_assistant_coaches_for_men
        meta:
          dimension:
            type: number
            hidden: true
          metrics:
            total_assistant_coaches_for_men:
              type: sum
              round: 0
              label: "# Assistant Coaches for Men"
              group_label: "Coaches"
      - name: num_assistant_coaches_for_women
        meta:
          dimension:
            type: number
            hidden: true
          metrics:
            total_assistant_coaches_for_women:
              type: sum
              round: 0
              label: "# Assistant Coaches for Women"
              group_label: "Coaches"
      - name: num_assistant_coaches_for_coed
        meta:
          dimension:
            type: number
            hidden: true
          metrics:
            total_assistant_coaches_for_coed:
              type: sum
              round: 0
              label: "# Assistant Coaches for Coed"
              group_label: "Coaches"
      - name: assistant_coach_fte_salaries_for_men
        meta:
          dimension:
            type: number
            hidden: true
          metrics:
            total_assistant_coach_fte_salaries_for_men:
              type: sum
              round: 0
              format: 'usd'
              label: "Avg. Full-Time Assistant Coach Salary for Men"
              group_label: "Coaches"
      - name: assistant_coach_fte_salaries_for_women
        meta:
          dimension:
            type: number
            hidden: true
          metrics:
            total_assistant_coach_fte_salaries_for_women:
              type: sum
              round: 0
              format: 'usd'
              label: "Avg. Full-Time Assistant Coach Salary for Women"
              group_label: "Coaches"
      - name: assistant_coach_fte_salaries_for_coed
        meta:
          dimension:
            type: number
            hidden: true
          metrics:
            total_assistant_coach_fte_salaries_for_coed:
              type: sum
              round: 0
              format: 'usd'
              label: "Avg. Full-Time Assistant Coach Salary for Coed"
              group_label: "Coaches"
      - name: num_assistant_coaches_fte_for_men
        meta:
          dimension:
            type: number
            hidden: true
          metrics:
            total_assistant_coaches_fte_for_men:
              type: sum
              round: 0
              label: "# Full-Time Assistant Coaches for Men"
              group_label: "Coaches"
      - name: num_assistant_coaches_fte_for_women
        meta:
          dimension:
            type: number
            hidden: true
          metrics:
            total_assistant_coaches_fte_for_women:
              type: sum
              round: 0
              label: "# Full-Time Assistant Coaches for Women"
              group_label: "Coaches"
      - name: num_assistant_coaches_fte_for_coed
        meta:
          dimension:
            type: number
            hidden: true
          metrics:
            total_assistant_coaches_fte_for_coed:
              type: sum
              round: 0
              label: "# Full-Time Assistant Coaches for Coed"
              group_label: "Coaches"
      - name: num_head_coaches_pt_for_men
        meta:
          dimension:
            type: number
            hidden: true
            sql: ${num_head_coaches_for_men} - ${num_head_coaches_fte_for_men}
          metrics:
            total_head_coaches_pt_for_men:
              type: sum
              round: 0
              label: "# Part-Time Head Coaches for Men"
              group_label: "Coaches"
      - name: num_head_coaches_pt_for_women
        meta:
          dimension:
            type: number
            hidden: true
            sql: ${num_head_coaches_for_women} - ${num_head_coaches_fte_for_women}
          metrics:
            total_head_coaches_pt_for_women:
              type: sum
              round: 0
              label: "# Part-Time Head Coaches for Women"
              group_label: "Coaches"
      - name: num_head_coaches_pt_for_coed
        meta:
          dimension:
            type: number
            hidden: true
            sql: ${num_head_coaches_for_coed} - ${num_head_coaches_fte_for_coed}
          metrics:
            total_head_coaches_pt_for_coed:
              type: sum
              round: 0
              label: "# Part-Time Head Coaches for Coed"
              group_label: "Coaches"
      - name: num_assistant_coaches_pt_for_men
        meta:
          dimension:
            type: number
            hidden: true
            sql: ${num_assistant_coaches_for_men} - ${num_assistant_coaches_fte_for_men}
          metrics:
            total_assistant_coaches_pt_for_men:
              type: sum
              round: 0
              label: "# Part-Time Assistant Coaches for Men"
              group_label: "Coaches"
      - name: num_assistant_coaches_pt_for_women
        meta:
          dimension:
            type: number
            hidden: true
            sql: ${num_assistant_coaches_for_women} - ${num_assistant_coaches_fte_for_women}
          metrics:
            total_assistant_coaches_pt_for_women:
              type: sum
              round: 0
              label: "# Part-Time Assistant Coaches for Women"
              group_label: "Coaches"
      - name: num_assistant_coaches_pt_for_coed
        meta:
          dimension:
            type: number
            hidden: true
            sql: ${num_assistant_coaches_for_coed} - ${num_assistant_coaches_fte_for_coed}
          metrics:
            total_assistant_coaches_pt_for_coed:
              type: sum
              round: 0
              label: "# Part-Time Assistant Coaches for Coed"
              group_label: "Coaches"
